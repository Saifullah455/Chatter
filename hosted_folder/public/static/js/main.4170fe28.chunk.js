(this["webpackJsonpclass-32-chatapp"]=this["webpackJsonpclass-32-chatapp"]||[]).push([[0],{31:function(e,t,a){},39:function(e,t,a){},50:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a(22),s=a.n(n),r=(a(39),a(12)),i=a(13),u=a(15),o=a(14),l=a(32),h=a(6),d=a(19),b=a(27);a(43),a(45);b.a.initializeApp({apiKey:"AIzaSyCYemS8yEzzvkyd67UxTJjYmH-QwZjoEYo",authDomain:"chat-application-57b57.firebaseapp.com",projectId:"chat-application-57b57",storageBucket:"chat-application-57b57.appspot.com",messagingSenderId:"476814481173",appId:"1:476814481173:web:848d35860588e95c66fb1c"});var A=b.a,O=(a(31),a(4)),m=function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return Object(O.jsxs)("div",{className:"main",children:[Object(O.jsxs)("h1",{className:"heading",children:[" ",Object(O.jsx)("img",{src:"data:image/png;base64,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",width:"80",className:"logo"})," Chatter"]}),Object(O.jsx)("p",{className:"titletext",children:"Click Repeatedly Together from Cold or Fear.Talk or Write in a Trivial or Foolish Way."}),Object(O.jsx)("button",{className:"fb_login",onClick:function(){return e.props.facebook_login(e.props.history)},children:"FACEBOOK LOGIN"})]})}}]),a}(c.Component),g=Object(d.b)((function(e){return{user_data:e.auth_reducer.users}}),(function(e){return{facebook_login:function(t){return e(function(e){return function(t){var a=new A.auth.FacebookAuthProvider;A.auth().signInWithPopup(a).then((function(a){var c=a.credential,n=a.user,s=(c.accessToken,{uid:n.uid,name:n.displayName,email:n.email,profilePhoto:n.photoURL});A.database().ref("/").child("users/".concat(n.uid)).set(s).then((function(){t({type:"USERDATA",payload:s}),alert("Login Successfully!"),e.push("/inbox")}))})).catch((function(e){e.code;var t=e.message;e.email,e.credential,console.log(t)}))}}(t))}}}))(m),j=(a(50),function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(){var e;return Object(r.a)(this,a),(e=t.call(this)).getFirebasechats=function(t){var a=[];A.database().ref("/").child("chats/".concat(t)).on("child_added",(function(e){a.push(e.val())})),e.state.chats=a,e.setState({chats:e.state.chats})},e.uidMerge=function(e,t){return e<t?e+t:t+e},e.updateCurrUser=function(t){e.setState({chat_user:t})},e.chat=function(){var t=e.uidMerge(e.state.chat_user.uid,e.props.user_name.uid);e.getFirebasechats(t)},e.send=function(){e.props.userChats(e.state.chat_user,e.props.user_name,e.state.message);var t=e.uidMerge(e.state.chat_user.uid,e.props.user_name.uid);e.getFirebasechats(t),e.state.message=""},e.state={chat_user:{},chats:[],message:""},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.props.user_name;return Object(O.jsxs)("div",{className:"inbox",onMouseOver:function(){e.chat(),e.state.chats.map((function(e,t){return Object(O.jsx)("li",{style:{color:"black"},children:e.message},t)}))},children:[Object(O.jsx)("div",{children:Object(O.jsxs)("h5",{className:"profileName",children:[Object(O.jsx)("img",{src:t.profilePhoto,className:"profile_pic"}),t.name]})}),Object(O.jsx)("div",{children:Object(O.jsxs)("div",{children:[Object(O.jsx)("h4",{className:"friends",children:"Friends"}),Object(O.jsx)("ul",{children:this.props.all_users.map((function(t,a){return t.name!==e.props.user_name.name&&Object(O.jsxs)("li",{className:"friends_list",children:[" ",Object(O.jsx)("img",{className:"friends_list_image",src:t.profilePhoto,width:"30"})," ",t.name," ",Object(O.jsx)("button",{className:"chat_button",onClick:function(){return e.updateCurrUser(t)},children:"Chat"})]},a)}))}),Object(O.jsx)("div",{className:"chatBox",children:Object.keys(this.state.chat_user).length?Object(O.jsxs)("div",{className:"chatinnnerbox",style:{backgroundColor:"black",width:350},children:[Object(O.jsxs)("h4",{className:"chatuser",style:{color:"white"},children:[" ",Object(O.jsx)("img",{className:"chatimage",style:{marginTop:5,marginLeft:5},width:"25",src:this.state.chat_user.profilePhoto})," ",this.state.chat_user.name]}),Object(O.jsx)("div",{children:Object(O.jsx)("ul",{children:this.state.chats.map((function(e,a){return Object(O.jsxs)("li",{style:{color:e.uid===t.uid?"orange":"white",marginRight:50,textAlign:e.uid===t.uid?"right":"left",listStyleType:"none"},children:[e.profilePhoto,e.message]},a)}))})}),Object(O.jsxs)("div",{className:"send",children:[Object(O.jsx)("input",{className:"message",value:this.state.message,onChange:function(t){return e.setState({message:t.target.value})},type:"text",placeholder:"Enter your message...",style:{textAlign:"center"}}),Object(O.jsx)("button",{className:"chat_button message",onClick:function(){return e.send()},children:"Send"})]})]}):""})]})})]})}},{key:"componentDidMount",value:function(){this.props.get_users()}}]),a}(c.Component)),p=Object(d.b)((function(e){return{user_name:e.auth_reducer.currUser,all_users:e.auth_reducer.users,chats:e.auth_reducer.chats}}),(function(e){return{get_users:function(){return e((function(e){var t=[];A.database().ref("/").child("/users").on("child_added",(function(e){t.push(e.val())})),e({type:"GETUSERS",payload:t})}))},userChats:function(t,a,c){return e(function(e,t,a){var c={uid:t.uid,name:t.name,message:a};return function(a){var n,s;A.database().ref("/").child("chats/".concat((n=e.uid,s=t.uid,n<s?n+s:s+n))).push(c)}}(t,a,c))}}}))(j),f=function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return Object(O.jsxs)(l.a,{children:[Object(O.jsx)(h.a,{exact:!0,path:"/",component:g}),Object(O.jsx)(h.a,{exact:!0,path:"/inbox",component:p})]})}}]),a}(c.Component),C=function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return Object(O.jsx)(f,{})}}]),a}(c.Component),x=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,54)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),c(e),n(e),s(e),r(e)}))},v=a(21),w=a(34),B=a(17),Q={users:[],currUser:{},chats:[]},E=Object(v.b)({auth_reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USERDATA":return Object(B.a)(Object(B.a)({},e),{},{currUser:t.payload});case"GETUSERS":return Object(B.a)(Object(B.a)({},e),{},{users:t.payload});case"CHATS":return Object(B.a)(Object(B.a)({},e),{},{chats:[].concat(Object(w.a)(e.chats),[t.payload])})}return e}}),y=a(33),L=Object(v.c)(E,{},Object(v.a)(y.a));a(52);s.a.render(Object(O.jsx)(d.a,{store:L,children:Object(O.jsx)(C,{})}),document.getElementById("root")),x()}},[[53,1,2]]]);
//# sourceMappingURL=main.4170fe28.chunk.js.map